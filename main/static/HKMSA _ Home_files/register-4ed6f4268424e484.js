(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{992:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return t(8160)}])},8160:function(e,r,t){"use strict";t.r(r);var n=t(4051),a=t.n(n),i=t(5893),s=t(7294),o=t(7536),l=t(5538),u=t(9356),c=t(6958),d=t(1163),m=t(471),h=t(2965),p=t(3976);function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function v(e,r,t,n,a,i,s){try{var o=e[i](s),l=o.value}catch(u){return void t(u)}o.done?r(l):Promise.resolve(l).then(n,a)}function x(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function g(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return f(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y={firstName:"",lastName:"",identification:"",username:"",email:"",contact:"",gender:null,university:null,major:"",enrolmentYear:null,expectedGraduationYear:null,uidDataURI:"",icDataURI:"",programmeType:null};r.default=function(){var e,r,t=(0,d.useRouter)(),n=(0,o.cI)({defaultValues:y,reValidateMode:"onChange",mode:"onChange"}),f=n.handleSubmit,j=x(n,["handleSubmit"]),b=j.register,U=j.watch,N=j.formState,S=j.setValue,I=j.pending,w=N.errors,C=(0,s.useState)(!1),E=C[0],O=C[1],P=(0,s.useState)(!1),k=(P[0],P[1],(0,s.useRef)(null)),H=(0,s.useRef)(null),F=function(e){return function(){var r,t=(r=a().mark((function r(t){var n,i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.target.files.length){r.next=2;break}return r.abrupt("return");case 2:return n="uid"===e,r.next=5,(0,p.Z)(t.target.files[0]);case 5:i=r.sent,n?(k.current.value="",S("uidDataURI",i)):(H.current.value="",S("icDataURI",i));case 7:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var i=r.apply(e,t);function s(e){v(i,n,a,s,o,"next",e)}function o(e){v(i,n,a,s,o,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()},q=U("uidDataURI"),R=U("icDataURI");(0,s.useEffect)((function(){b("uidDataURI",{required:{value:!0,message:"Student card or offer letter upload is required"}}),b("icDataURI",{required:{value:!0,message:"IC upload is required"}})}),[b]);return(0,i.jsx)(c.kz,{children:(0,i.jsx)("div",{className:"flex flex-col items-center gap-4 -mt-10 pb-10",children:(0,i.jsxs)("form",{onSubmit:f((function(e){"Others"===e.university&&(e.university=e.otherUniversity),function(e){O(!0),u.Z.member.create(e).then((function(){l.Am.success("Registration successfully submitted and pending for verification. Please remember to check your email for confirmation!",{autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0}),t.push("/").then()})).catch((function(e){return l.Am.error(e.message,{autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0})})).finally((function(){return O(!1)}))}(e)})),children:[(0,i.jsx)("div",{className:"font-bold text-3xl text-black text-center mb-4",children:"Register"}),(0,i.jsxs)("p",{className:"text-sm my-8 text-center",children:["For enquiries, please contact"," ",(0,i.jsx)("a",{href:"mailto:hrhkmsa@gmail.com",target:"_blank",className:"text-primary hover:text-[#ef6603] break-all",rel:"noreferrer",children:"hrhkmsa@gmail.com"})]}),(0,i.jsxs)("div",{className:"flex-col flex",children:[(0,i.jsx)(c.Fy,{name:"firstName",placeholder:"First Name",type:"text",register:b,error:w.firstName,required:!0,validate:{isFirstNamevalid:function(e){return e.length<=50||"First name must be less than 50 characters"}}}),(0,i.jsx)(c.Fy,{name:"lastName",placeholder:"Last Name",type:"text",register:b,error:w.lastName,required:!0,validate:{isLastNamevalid:function(e){return e.length<=50||"Last name must be less than 50 characters"}}}),(0,i.jsx)(c.Fy,{name:"identification",placeholder:"Malaysian IC",type:"text",register:b,error:w.identification,required:!0,validate:{isMalaysianICValid:function(e){return 12===e.length||"IC must be 12 digits without dash"}}}),(0,i.jsxs)(c.EI,{name:"gender",title:"Gender",register:b,required:!0,error:w.gender,children:[(0,i.jsx)("option",{value:"M",children:"Male"}),(0,i.jsx)("option",{value:"F",children:"Female"}),(0,i.jsx)("option",{value:"PNTS",children:"Prefer not to say"})]}),(0,i.jsx)(c.Fy,{placeholder:"Email",register:b,name:"email",type:"email",required:!0,error:w.email,validate:{isEmail:function(e){return e&&!(0,h.v)(e)?"Please enter valid email":!(e.length>100)||"Email must be less than 100 characters"}}}),(0,i.jsx)(c.Fy,{placeholder:"Username",register:b,name:"username",type:"text",required:!0,error:w.username,validate:{isUsernameValid:function(e){return e.length<=100||"Username must be less than 100 characters"}}}),(0,i.jsx)(c.Fy,{placeholder:"Contact Number",register:b,name:"contact",type:"text",required:!0,error:w.contact,validate:{isContactNumberValid:function(e){return/^\+[0-9]{10,20}$/.test(e)||"Invalid contact number"}},label:"Example: +60123456789 or +85212345678"}),(0,i.jsxs)(c.EI,{name:"university",title:"University",register:b,error:w.university,required:!0,children:[(0,i.jsx)("option",{value:"HKU",children:"The University of Hong Kong"}),(0,i.jsx)("option",{value:"HKUST",children:"The Hong Kong University of Science and Technology"}),(0,i.jsx)("option",{value:"CUHK",children:"The Chinese University of Hong Kong"}),(0,i.jsx)("option",{value:"CityU",children:"City University of Hong Kong"}),(0,i.jsx)("option",{value:"PolyU",children:"The Hong Kong Polytechnic University"}),(0,i.jsx)("option",{value:"HKBU",children:"Hong Kong Baptist University"}),(0,i.jsx)("option",{value:"LingU",children:"Lingnan University"}),(0,i.jsx)("option",{value:"HANGSENG",children:"The Hang Seng University of Hong Kong"}),(0,i.jsx)("option",{value:"OpenU",children:"The Open University of Hong Kong"}),(0,i.jsx)("option",{value:"SYUni",children:"Hong Kong Shue Yan University"}),(0,i.jsx)("option",{value:"Edu",children:"The Education University of Hong Kong"}),(0,i.jsx)("option",{value:"Others",children:"Others"})]}),"Others"===U("university")&&(0,i.jsx)(c.Fy,{name:"otherUniversity",placeholder:"University",register:b,type:"text",required:"Others"===U("university"),error:w.otherUniversity,validate:{isOtherUniversityValid:function(e){return e.length<=100||"University must be less than 100 characters"}}}),(0,i.jsxs)(c.EI,{name:"programmeType",title:"Programme Type",register:b,error:w.programmeType,required:!0,children:[(0,i.jsx)("option",{value:"UG",children:"Undergraduate"}),(0,i.jsx)("option",{value:"PG",children:"Postgraduate"}),(0,i.jsx)("option",{value:"PHD",children:"PHD"}),(0,i.jsx)("option",{value:"Others",children:"Others"})]}),(0,i.jsx)(c.Fy,{placeholder:"Programme name",register:b,name:"programmeName",type:"text",required:!0,error:w.programmeName,validate:{isMajorValid:function(e){return e.length<=100||"Programme must be less than 100 characters"}},label:"Example: BSc, BEng, BBA, MSc"}),(0,i.jsx)(c.Fy,{placeholder:"Major",register:b,name:"major",type:"text",error:w.major,validate:{isMajorValid:function(e){return e.length<=100||"Major must be less than 100 characters"}},label:"Example: Global China Studies, Actuarial Science"}),(0,i.jsx)(c.EI,{name:"enrolmentYear",title:"University Enrollment Year",register:b,required:!0,error:w.enrolmentYear,children:g(Array(7).keys()).map((function(e){var r=(new Date).getFullYear()-e;return(0,i.jsx)("option",{value:r,children:r},r)}))}),(0,i.jsx)(c.EI,{name:"expectedGraduationYear",title:"Expected Graduation Year",register:b,required:!0,error:w.expectedGraduationYear,children:g(Array(7).keys()).map((function(e){var r=(new Date).getFullYear()+e;return(0,i.jsx)("option",{value:r,children:r},r)}))})]}),(0,i.jsx)("div",{className:"text-primary font-semibold text-lg ml-2",children:(0,i.jsx)("span",{children:"University Student Card"})}),(0,i.jsxs)("div",{className:"mb-8 flex flex-col",children:[(0,i.jsx)("input",{type:"file",className:"hidden",ref:k,accept:"image/png, image/jpeg",onChange:F("uid")}),(0,i.jsx)("button",{onClick:function(){var e;return null===(e=k.current)||void 0===e?void 0:e.click()},className:"border border-primary rounded px-3 py-1.5 text-primary font-semibold",type:"button",children:"Upload"}),Boolean(q)&&(0,i.jsx)("img",{src:q,className:"w-72 h-48 object-cover mt-2 rounded"}),w.uidDataURI?(0,i.jsx)("div",{className:"text-red-500 text-center mt-3",children:null===(e=w.uidDataURI)||void 0===e?void 0:e.message}):(0,i.jsx)("small",{className:"mt-3",children:"For freshmen without a student card, please upload your offer letter"})]}),(0,i.jsx)("div",{className:"text-primary font-semibold text-lg ml-2",children:(0,i.jsx)("span",{children:"Malaysian IC Card"})}),(0,i.jsxs)("div",{className:"mb-8 flex flex-col",children:[(0,i.jsx)("input",{type:"file",className:"hidden",ref:H,accept:"image/png, image/jpeg",onChange:F("ic")}),(0,i.jsx)("button",{onClick:function(){var e;return null===(e=H.current)||void 0===e?void 0:e.click()},className:"border border-primary rounded px-3 py-1.5 text-primary font-semibold",type:"button",children:"Upload"}),Boolean(R)&&(0,i.jsx)("img",{src:R,className:"w-full h-72 object-cover"}),(0,i.jsx)("div",{className:"text-red-500 text-center mt-3",children:null===(r=w.icDataURI)||void 0===r?void 0:r.message})]}),(0,i.jsx)("small",{className:"text-center text-black",children:"Only PNG and JPEG files are allowed"}),(0,i.jsx)("button",{className:"mt-8 bg-primary text-white w-full py-2 text-lg text-center rounded font-bold uppercase flex justify-center",type:"submit",disabled:I,children:I||E?(0,i.jsx)(m.epG,{className:"animate-spin text-3xl"}):"Submit"})]})})})}},3976:function(e,r){"use strict";r.Z=function(e){return new Promise((function(r,t){var n=new FileReader;n.onload=function(e){return r(e.target.result)},n.onerror=function(){return t(Error("Invalid Image"))},n.readAsDataURL(e)}))}},2965:function(e,r,t){"use strict";t.d(r,{v:function(){return n}});var n=function(e){return/\S+@\S+\.\S+/.test(e)}}},function(e){e.O(0,[955,536,774,888,179],(function(){return r=992,e(e.s=r);var r}));var r=e.O();_N_E=r}]);